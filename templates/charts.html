<html>
    <head>
        {% include 'cdn_css.html' %}
        {% include 'navbar.html' %}
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js" integrity="sha512-TW5s0IT/IppJtu76UbysrBH9Hy/5X41OTAbQuffZFU6lQ1rdcLHzpU5BzVvr/YFykoiMYZVWlr/PX1mDcfM9Qg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.esm.js" integrity="sha512-Jmi+uNSDc8pyBNQbRkhwxqTtRsAzq1p0IK7dSLjaudwIIqoG2giyWRvsh4bbPd2mNSbK1GyEiBUO86RSs428UQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.esm.min.js" integrity="sha512-SaY95UIbYlNfmc6tZOtqEWMyDHpIKJwXCPfDZNvgudlFZiJjMU3XJNrSnkVCL/3b7szsoU3hDXpUz6+TdLY1ag==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.js" integrity="sha512-uLlukEfSLB7gWRBvzpDnLGvzNUluF19IDEdUoyGAtaO0MVSBsQ+g3qhLRL3GTVoEzKpc24rVT6X1Pr5fmsShBg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/helpers.esm.js" integrity="sha512-NrPCPNanqa1FM/aKCsKqZaEKs0X9M0JMVB9bjX8T2f50/LHQD+gHn0CX/ZN+kNkDPfXsQGfic21b/rKknQdC3Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/helpers.esm.min.js" integrity="sha512-urWBnIv+F027G24xDNigjxvIuwnWlWy94W2yx77VkISKLzKSohOKOubMDhtEF6LZcEH7gctmNSpxDqIW/zMmUg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdn.plot.ly/plotly-2.8.3.min.js"></script>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="d-grid gap-2">
                        <button class="btn btn-primary" type="button" onclick="location.href='/admin_dashboard'">
                            Operational Dashboard
                        </button>
                      </div>
                </div>
                <div class="col-md-6">
                    <div class="d-grid gap-2">
                        <button class="btn btn-primary" type="submit"  onclick="location.href='/deep_analysis_dashboard'">Deep Analytical Dashboard</button>
                      </div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-12">
                    <center><h1>FoodPro Admin Analysis Dashboard</h1></center>
                </div>
            </div>
<hr>
            <div class="row">
                <div class="col-md-6">
                    <center><h5>New Users</h5></center>
                </div>
                <div class="col-md-6">
                    <center><h5>CTR of recommended products</h5></center>
                </div>
            </div>
            <div class="row">
            <div class="col-md-6">
                <br>
                <br>
                <br>
                <canvas id="usersChart"></canvas>
            </div>
            <div class="col-md-6">
                
                <div id='myDiv'></div>
            </div>
        </div>
          </div>
    </body>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        {% set valls = (show_recipe_id|length)-1 %}
        var trace1 = {
            x: [{% for i in range(0, (show_recipe_id|length)) %} "r_{{show_recipe_id[i]}}", {% endfor %} "r_{{show_recipe_id[valls]}}"],
            y: {{ show_clicks }},
            type: 'bar'
        };
                
        var data = [trace1];
        Plotly.newPlot('myDiv', data);
    </script>

    <script>
        const labels = [
          'September 2021',
          'October 2021',
          'November 2021',
          'Decemeber 2021',
          'January 2022'
        ];
      
        const data_lines = {
          labels: labels,
          datasets: [{
            label: 'New Users',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [5,10,15,12,20],
          }]
        };
      
        const lines = {
          type: 'line',
          data: data_lines,
          options: {}
        };
        const myChart = new Chart(
      document.getElementById('usersChart'),
      lines
    );
      </script>
   
  {% include 'cdn_js.html' %}  
</html>